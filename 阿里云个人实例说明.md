# 🔍 阿里云个人实例 vs 默认实例说明

## 📌 你的配置信息

**你使用的是阿里云个人实例**，这是新版的镜像服务实例类型。

### 你的实例信息
- **Registry 地址**：`crpi-q6jikadfo82vknso.cn-shanghai.personal.cr.aliyuncs.com`
- **用户名**：`aliyun4121920273`
- **区域**：华东2（上海）
- **实例类型**：个人实例

---

## 🆚 两种实例类型对比

### 1. 默认实例（旧版）
```
registry.cn-shanghai.aliyuncs.com
```
- 早期版本的镜像服务
- 地址格式固定
- 部分老用户还在使用

### 2. 个人实例（新版）⭐ 你使用的
```
crpi-xxxxxx.cn-shanghai.personal.cr.aliyuncs.com
```
- 新版本的镜像服务
- 每个用户有独立的实例 ID（如：`crpi-q6jikadfo82vknso`）
- 更好的隔离性和安全性
- **这是阿里云现在推荐的方式**

---

## ✅ 已完成的修改

我已经将所有配置文件更新为你的个人实例地址：

### 1. GitHub Actions Workflow
```yaml
ALIYUN_REGISTRY: crpi-q6jikadfo82vknso.cn-shanghai.personal.cr.aliyuncs.com
```

### 2. 文档更新
- ✅ `快速配置指南.md`
- ✅ `阿里云上海区域配置说明.md`

---

## 🚀 正确的使用方式

### 登录命令
```bash
docker login --username=aliyun4121920273 crpi-q6jikadfo82vknso.cn-shanghai.personal.cr.aliyuncs.com
```

### 拉取镜像
```bash
docker pull crpi-q6jikadfo82vknso.cn-shanghai.personal.cr.aliyuncs.com/<命名空间>/ai-travel-planner:latest
```

### 推送镜像
```bash
docker tag ai-travel-planner:latest crpi-q6jikadfo82vknso.cn-shanghai.personal.cr.aliyuncs.com/<命名空间>/ai-travel-planner:latest
docker push crpi-q6jikadfo82vknso.cn-shanghai.personal.cr.aliyuncs.com/<命名空间>/ai-travel-planner:latest
```

---

## 🔐 GitHub Secrets 配置

确保你的 GitHub Secrets 配置如下：

| Secret 名称 | 值 | 说明 |
|------------|---|------|
| `ALIYUN_USERNAME` | `aliyun4121920273` | 你的用户名 |
| `ALIYUN_PASSWORD` | 你的密码 | Registry 登录密码 |
| `ALIYUN_NAMESPACE` | 你的命名空间 | 例如：`my-projects` |

---

## 📝 如何找到你的实例地址

1. 登录阿里云容器镜像服务控制台
2. 左侧选择 "实例列表"
3. 找到你的个人实例
4. 点击进入，查看 "访问域名"
5. 地址格式：`crpi-xxxxxx.cn-地区.personal.cr.aliyuncs.com`

---

## ⚠️ 常见错误

### 错误示例 1：使用了默认实例地址
```bash
# ❌ 错误
docker login registry.cn-shanghai.aliyuncs.com
```

```bash
# ✅ 正确
docker login crpi-q6jikadfo82vknso.cn-shanghai.personal.cr.aliyuncs.com
```

### 错误示例 2：忘记指定用户名
```bash
# ❌ 错误
docker login crpi-q6jikadfo82vknso.cn-shanghai.personal.cr.aliyuncs.com
```

```bash
# ✅ 正确
docker login --username=aliyun4121920273 crpi-q6jikadfo82vknso.cn-shanghai.personal.cr.aliyuncs.com
```

---

## 🎯 下一步操作

现在配置已经正确，你可以：

1. **推送代码触发构建**
```bash
git add .
git commit -m "fix: 更新为阿里云个人实例地址"
git push origin main
```

2. **查看 GitHub Actions**
   - 访问：<https://github.com/mesakurax/AI_Travel_Planner/actions>
   - 查看构建状态

3. **验证镜像**
   - 登录阿里云控制台
   - 查看镜像仓库中是否有新推送的镜像

---

## 💡 总结

✅ **不是你配置错了**，而是你使用的是新版的个人实例，地址格式不同  
✅ **个人实例更好**，这是阿里云现在推荐的方式  
✅ **所有配置已更新**，可以直接使用  
✅ **记住你的实例地址**：`crpi-q6jikadfo82vknso.cn-shanghai.personal.cr.aliyuncs.com`

祝使用愉快！🎉
