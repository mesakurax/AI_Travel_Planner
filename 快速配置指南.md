# 🚀 快速配置指南（上海区域）

## ⚡ 5分钟快速上手

### 第一步：阿里云配置 (2分钟)

1. **访问阿里云容器镜像服务**
   - 🔗 <https://cr.console.aliyun.com/>
   - ⚠️ **重要**：确保选择区域为 **华东2（上海）**

2. **创建命名空间**
   - 点击左侧 "命名空间" → "创建命名空间"
   - 输入名称（如：`my-projects`）
   - 记住这个名称！

3. **获取登录凭证**
   - 点击右上角头像 → "访问凭证"
   - 记下：**用户名** 和 **设置 Registry 密码**

### 第二步：GitHub 配置 (3分钟)

1. **打开你的 GitHub 仓库**
   - 🔗 https://github.com/YOUR_USERNAME/AI_Travel_Planner

2. **添加 Secrets**
   - Settings → Secrets and variables → Actions → New repository secret
   
3. **添加以下 3 个 Secrets**：

   | Name | Value | 说明 |
   |------|-------|------|
   | `ALIYUN_USERNAME` | 你的阿里云用户名 | 在访问凭证页面查看 |
   | `ALIYUN_PASSWORD` | 你的 Registry 密码 | 刚才设置的密码 |
   | `ALIYUN_NAMESPACE` | 你的命名空间名称 | 例如：my-projects |

### 第三步：测试部署 (1分钟)

```bash
git add .
git commit -m "feat: 配置阿里云镜像服务"
git push origin main
```

然后到 GitHub Actions 查看构建状态：
- 🔗 https://github.com/YOUR_USERNAME/AI_Travel_Planner/actions

---

## ✅ 检查清单

- [ ] 阿里云容器镜像服务已开通
- [ ] 创建了命名空间
- [ ] 设置了 Registry 密码
- [ ] GitHub 添加了 3 个 Secrets
- [ ] 推送代码触发构建
- [ ] Actions 构建成功

---

## 🎯 使用镜像

### 国内服务器（推荐，上海区域速度快）

```bash
# 私有仓库需要先登录
docker login --username=aliyun4121920273 crpi-q6jikadfo82vknso.cn-shanghai.personal.cr.aliyuncs.com

# 拉取镜像
docker pull crpi-q6jikadfo82vknso.cn-shanghai.personal.cr.aliyuncs.com/YOUR_NAMESPACE/ai-travel-planner:latest

# 运行容器
docker run -d -p 3000:80 crpi-q6jikadfo82vknso.cn-shanghai.personal.cr.aliyuncs.com/YOUR_NAMESPACE/ai-travel-planner:latest
```

### 海外服务器

```bash
docker pull ghcr.io/YOUR_USERNAME/ai-travel-planner:latest
docker run -d -p 3000:80 ghcr.io/YOUR_USERNAME/ai-travel-planner:latest
```

---

## 🆘 遇到问题？

### 问题1: Actions 构建失败显示 "unauthorized"
**解决**：检查 GitHub Secrets 是否正确配置，特别是密码

### 问题2: 找不到命名空间
**解决**：确保 `ALIYUN_NAMESPACE` 的值和阿里云创建的命名空间名称完全一致

### 问题3: 推送超时
**解决**：网络问题，重新触发构建即可

---

## 📖 详细文档

更多详细信息请查看：[阿里云上海区域配置说明.md](./阿里云上海区域配置说明.md)

---

## 🎉 完成！

现在每次推送代码，GitHub Actions 会自动：
- ✅ 使用阿里云 npm 源加速构建
- ✅ 构建 Docker 镜像
- ✅ 推送到 GitHub Container Registry
- ✅ 推送到阿里云容器镜像服务（上海区域）
- ✅ 支持多平台 (amd64, arm64)

**区域信息**：`crpi-q6jikadfo82vknso.cn-shanghai.personal.cr.aliyuncs.com`（华东2-上海个人实例）
**用户名**：`aliyun4121920273`

祝使用愉快！🎊
