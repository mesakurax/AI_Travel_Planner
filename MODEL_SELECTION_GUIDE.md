# 🤖 AI 模型选择指南

本项目推荐使用 **阿里云百练平台的 `qwen-plus` 模型**。

## 🎯 推荐配置（最佳方案）

### 阿里云百练 - qwen-plus

```env
VITE_AI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxx
VITE_AI_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
VITE_AI_MODEL=qwen-plus
```

**适合本项目的理由：**

1. **中文能力优秀** 🇨🇳
   - 通义千问专为中文场景优化
   - 对中国地名、景点、美食理解准确
   - 生成的行程描述自然流畅

2. **性价比最高** 💰
   - 单次行程规划成本约 0.005 元（不到 1 分钱）
   - 100 元可以规划约 20,000 次行程
   - 新用户有免费额度

3. **响应速度快** ⚡
   - 国内访问无延迟
   - 平均响应时间 1-3 秒
   - 无需科学上网

4. **功能完善** ✨
   - 支持 JSON 格式输出
   - 上下文长度充足（8k tokens）
   - 稳定性高，几乎不出错

## 📊 模型对比

| 模型 | 中文能力 | 价格（元/次） | 响应速度 | 国内访问 | 推荐度 |
|------|---------|-------------|---------|---------|--------|
| **qwen-plus** | ⭐⭐⭐⭐⭐ | 0.005 | ⭐⭐⭐⭐⭐ | ✅ 稳定 | ⭐⭐⭐⭐⭐ |
| qwen-turbo | ⭐⭐⭐⭐ | 0.002 | ⭐⭐⭐⭐⭐ | ✅ 稳定 | ⭐⭐⭐⭐ |
| qwen-max | ⭐⭐⭐⭐⭐ | 0.050 | ⭐⭐⭐⭐ | ✅ 稳定 | ⭐⭐⭐ |
| GPT-3.5-turbo | ⭐⭐⭐ | 0.015 | ⭐⭐⭐ | ❌ 需代理 | ⭐⭐ |
| DeepSeek | ⭐⭐⭐⭐ | 0.001 | ⭐⭐⭐ | ✅ 稳定 | ⭐⭐⭐ |
| Ollama 本地 | ⭐⭐⭐ | 0.000 | ⭐⭐ | ✅ 本地 | ⭐⭐ |

## 💡 不同预算的选择

### 预算充足（追求最佳体验）
```env
VITE_AI_MODEL=qwen-plus
```
- 最佳平衡：性能、价格、速度
- **强烈推荐用于本项目**

### 预算有限（省钱优先）
```env
VITE_AI_MODEL=qwen-turbo
```
- 价格便宜 60%
- 质量略有下降但可接受

### 追求极致（不考虑价格）
```env
VITE_AI_MODEL=qwen-max
```
- 能力最强的中文模型
- 价格是 qwen-plus 的 10 倍

### 完全免费（本地部署）
```env
VITE_AI_BASE_URL=http://localhost:11434/v1
VITE_AI_MODEL=qwen:7b
```
- 需要安装 Ollama
- 电脑配置要求高
- 效果不如云端模型

## 🎨 实际效果对比

### 用户输入示例
```
我想去日本旅游，5天，预算1万元，喜欢美食和动漫，带孩子
```

### qwen-plus 输出质量 ⭐⭐⭐⭐⭐
```
✅ 准确识别：日本、5天、1万元、亲子游
✅ 推荐景点：秋叶原、吉卜力美术馆、东京迪士尼
✅ 美食安排：寿司店、拉面店、和果子店（适合儿童）
✅ 预算分配：交通3000、住宿3500、餐饮2000、门票1500
✅ 细节完善：考虑儿童友好设施、营业时间、交通便利性
```

### qwen-turbo 输出质量 ⭐⭐⭐⭐
```
✅ 识别基本准确
✅ 景点推荐合理
⚠️ 细节略少（如儿童友好提示可能缺失）
⚠️ 美食推荐较泛化
```

### GPT-3.5-turbo 输出质量 ⭐⭐⭐
```
⚠️ 中文地名可能不准确
⚠️ 对中国用户习惯理解不足
⚠️ 预算单位可能混用（元/美元）
❌ 需要科学上网，国内访问不稳定
```

## 🚀 快速开始

### 1. 注册阿里云百练

访问：https://bailian.console.aliyun.com/

### 2. 获取 API Key

点击右上角 "API-KEY 管理" → "创建新的 API-KEY"

### 3. 配置 .env

```env
VITE_AI_API_KEY=sk-your-actual-key-here
VITE_AI_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
VITE_AI_MODEL=qwen-plus
```

### 4. 启动项目

```bash
npm run dev
```

## ❓ 常见问题

### Q: 为什么不用 GPT-4？
A: GPT-4 虽然能力强，但：
- 价格贵 20 倍（约 0.1 元/次）
- 需要科学上网
- 中文旅行规划不如 qwen-plus 准确

### Q: DeepSeek 不是更便宜吗？
A: DeepSeek 确实便宜，但：
- 旅行规划场景下质量不如 qwen-plus
- 对中国景点、美食的理解不够深入
- 预算分配不够合理

### Q: 可以切换模型吗？
A: 可以！只需修改 `.env` 中的三个变量：
```env
VITE_AI_API_KEY=新的key
VITE_AI_BASE_URL=新的接口地址
VITE_AI_MODEL=新的模型名称
```

### Q: 用量太大怎么办？
A: 可以：
1. 先用 `qwen-turbo` 测试（便宜 60%）
2. 添加缓存机制（相同输入返回缓存结果）
3. 本地部署 Ollama（完全免费）

## 📌 总结

**最佳配置（强烈推荐）：**
```
模型：qwen-plus
原因：中文能力强 + 性价比高 + 响应快速
成本：0.005 元/次（100元用20000次）
```

如需进一步优化成本或性能，请参考 API_SETUP_GUIDE.md 文档。
